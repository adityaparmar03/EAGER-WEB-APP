<!DOCTYPE html>
  <html>
  <head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- <script>
  document.getElementById("verify").onclick = function fun()
    {
     alert("Hi");
     $(this).css('background', 'red');
    }
  </script> -->
<script>
  document.getElementById("verify").onclick = function fun()
    {
     alert("hello");
     //validation code to see State field is mandatory.
    }

    function f1(obj)
    {
       $(obj).css('background', 'green');
    }
    </script>
</head>
<body>


{% import "bootstrap/utils.html" as utils %}
{% extends "base.html" %}
{% block title %}Admin Dashboard{% endblock %}
{% block body %}

<div class="content-section">
  <div class="outer">
    <div class="middle">
      <div class="inner">
        <br/>
        {{ utils.flashed_messages() }}
        <br/>
        <div class="col-lg-12">
            <h1>Admin Dashboard</h1>
            <h3>For administrators only!</h3>


          </div>
        <h1 style="text-align:center;">Queries</h1>
        {% if reports %}
          <hr class="intro-divider">

            <table class="table table-striped table-bordered">
              <thead>
                <tr>
                  <th width="10%"> ID </th>
                  <th width="20%"> Issue </th>
                  <th width="15%"> Lattitude </th>
                  <th width="15%"> Longitude </th>
                  <th width="15%"> PhoneNumber </th>
                  <th width="15%"> Timestamp </th>
                  <th width="10%"> Type </th>
                  <th width="10%"> Action </th>
                </tr>
              </thead>
              <tbody>
              {% for key in reports %}
                    {% if reports[key]['type'] == 'Report': %}
                    <tr id = "row">
                      <td> {{key}} </td>
                      <td>
                          {% for ikey in reports[key]['compactReports'] %}
                          {{ikey}}<p></p>
                           {% for iikey in reports[key]['compactReports'][ikey] %}
                              {{iikey}}
                              {{ reports[key]['compactReports'][ikey][iikey] }}
                               <p></p>
                           {% endfor %}
                          <p></p>
                          {% endfor %}
                      </td>
                      <td>
                          {{ reports[key]['latitude'] }}
                      </td>
                      <td>
                          {{ reports[key]['longitude']}}
                      </td>
                      <td>
                          {{ reports[key]['phoneNumber'] }}
                      </td>
                      <td>
                          {{ reports[key]['timestamp'] }}
                      </td>
                      <td>
                          {{ reports[key]['type'] }}
                      </td>

                    </tr>
                    {% endif %}
              {% endfor %}
              </tbody>
{% endif %}


  <!--<hr class="intro-divider">

    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th width="10%"> Name </th>
          <th width="10%"> Issue </th>
          <th width="15%"> SubIssue </th>
          <th width="15%"> Additional Info </th>
          <th width="15%"> Location </th>
          <th width="15%"> Phone </th>
          <th width="10%"> Zip Code </th>
          <th width="10%"> Action </th>
        </tr>
      </thead>
      <tbody>
      {% for row in content %}
            <tr>
          {% for key,value in row.items() %}
              <td> {{ value }}</td>
              {% endfor %}

              <td>
              <p>Hi</p>
                </td>

            </tr>

      {% endfor %}
      </tbody>
    </table>-->
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
</body>
</html>
